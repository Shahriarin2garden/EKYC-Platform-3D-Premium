# Logs Directory

This directory contains application logs generated by the Winston logging system.

## Log Files

- **error-*.log**: Error-level logs (30-day retention)
- **combined-*.log**: All logs combined (30-day retention)
- **http-*.log**: HTTP request logs (14-day retention)

## Log Levels

- `error`: Error messages and exceptions
- `warn`: Warning messages
- `info`: General information messages
- `http`: HTTP request/response logs
- `debug`: Detailed debugging information (development only)

## Log Rotation

Logs are automatically rotated daily with the following settings:
- Maximum file size: 20MB
- Retention period: 14-30 days depending on log type
- Automatic cleanup of old log files

## Custom Logging Methods

The logger provides specialized methods for different components:

```javascript
const logger = require('./config/logger');

// Component-specific logging
logger.database('Database message', { meta });
logger.rabbitmq('RabbitMQ message', { meta });
logger.auth('Authentication message', { meta });
logger.kyc('KYC operation message', { meta });
logger.pdf('PDF generation message', { meta });
logger.ai('AI service message', { meta });
logger.api('API request message', { meta });
```

## Viewing Logs

### View all logs
```bash
cat logs/combined-2024-*.log
```

### View errors only
```bash
cat logs/error-2024-*.log
```

### Follow logs in real-time
```bash
tail -f logs/combined-2024-*.log
```

### Search logs
```bash
grep "KYC" logs/combined-2024-*.log
```

## Log Format

Logs are stored in JSON format with the following structure:

```json
{
  "level": "info",
  "message": "Server started",
  "timestamp": "2024-11-18 10:30:45",
  "meta": {
    "additional": "data"
  }
}
```

## Important Notes

- Log files are **NOT** committed to version control (added to .gitignore)
- Sensitive information (passwords, tokens) should never be logged
- In production, consider using a centralized logging service (e.g., ELK Stack, CloudWatch)
- Monitor disk space as logs can grow quickly under high traffic
